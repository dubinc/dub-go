// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package operations

import (
	"encoding/json"
	"fmt"
	"github.com/dubinc/dub-go/internal/utils"
)

// Status - Useful for marking a commission as refunded, duplicate, canceled, or fraudulent. Takes precedence over `amount` and `modifyAmount`. When a commission is marked as refunded, duplicate, canceled, or fraudulent, it will be omitted from the payout, and the payout amount will be recalculated accordingly. Paid commissions cannot be updated.
type Status string

const (
	StatusRefunded  Status = "refunded"
	StatusDuplicate Status = "duplicate"
	StatusCanceled  Status = "canceled"
	StatusFraud     Status = "fraud"
)

func (e Status) ToPointer() *Status {
	return &e
}
func (e *Status) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "refunded":
		fallthrough
	case "duplicate":
		fallthrough
	case "canceled":
		fallthrough
	case "fraud":
		*e = Status(v)
		return nil
	default:
		return fmt.Errorf("invalid value for Status: %v", v)
	}
}

type UpdateCommissionRequestBody struct {
	// The new absolute amount for the sale. Paid commissions cannot be updated.
	Amount *float64 `json:"amount,omitempty"`
	// Modify the current sale amount: use positive values to increase the amount, negative values to decrease it. Takes precedence over `amount`. Paid commissions cannot be updated.
	ModifyAmount *float64 `json:"modifyAmount,omitempty"`
	// The currency of the sale amount to update. Accepts ISO 4217 currency codes.
	Currency *string `default:"usd" json:"currency"`
	// Useful for marking a commission as refunded, duplicate, canceled, or fraudulent. Takes precedence over `amount` and `modifyAmount`. When a commission is marked as refunded, duplicate, canceled, or fraudulent, it will be omitted from the payout, and the payout amount will be recalculated accordingly. Paid commissions cannot be updated.
	Status *Status `json:"status,omitempty"`
}

func (u UpdateCommissionRequestBody) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(u, "", false)
}

func (u *UpdateCommissionRequestBody) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &u, "", false, false); err != nil {
		return err
	}
	return nil
}

func (o *UpdateCommissionRequestBody) GetAmount() *float64 {
	if o == nil {
		return nil
	}
	return o.Amount
}

func (o *UpdateCommissionRequestBody) GetModifyAmount() *float64 {
	if o == nil {
		return nil
	}
	return o.ModifyAmount
}

func (o *UpdateCommissionRequestBody) GetCurrency() *string {
	if o == nil {
		return nil
	}
	return o.Currency
}

func (o *UpdateCommissionRequestBody) GetStatus() *Status {
	if o == nil {
		return nil
	}
	return o.Status
}

type UpdateCommissionRequest struct {
	// The commission's unique ID on Dub.
	ID          string                       `pathParam:"style=simple,explode=false,name=id"`
	RequestBody *UpdateCommissionRequestBody `request:"mediaType=application/json"`
}

func (o *UpdateCommissionRequest) GetID() string {
	if o == nil {
		return ""
	}
	return o.ID
}

func (o *UpdateCommissionRequest) GetRequestBody() *UpdateCommissionRequestBody {
	if o == nil {
		return nil
	}
	return o.RequestBody
}

type UpdateCommissionType string

const (
	UpdateCommissionTypeClick  UpdateCommissionType = "click"
	UpdateCommissionTypeLead   UpdateCommissionType = "lead"
	UpdateCommissionTypeSale   UpdateCommissionType = "sale"
	UpdateCommissionTypeCustom UpdateCommissionType = "custom"
)

func (e UpdateCommissionType) ToPointer() *UpdateCommissionType {
	return &e
}
func (e *UpdateCommissionType) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "click":
		fallthrough
	case "lead":
		fallthrough
	case "sale":
		fallthrough
	case "custom":
		*e = UpdateCommissionType(v)
		return nil
	default:
		return fmt.Errorf("invalid value for UpdateCommissionType: %v", v)
	}
}

type UpdateCommissionStatus string

const (
	UpdateCommissionStatusPending   UpdateCommissionStatus = "pending"
	UpdateCommissionStatusProcessed UpdateCommissionStatus = "processed"
	UpdateCommissionStatusPaid      UpdateCommissionStatus = "paid"
	UpdateCommissionStatusRefunded  UpdateCommissionStatus = "refunded"
	UpdateCommissionStatusDuplicate UpdateCommissionStatus = "duplicate"
	UpdateCommissionStatusFraud     UpdateCommissionStatus = "fraud"
	UpdateCommissionStatusCanceled  UpdateCommissionStatus = "canceled"
)

func (e UpdateCommissionStatus) ToPointer() *UpdateCommissionStatus {
	return &e
}
func (e *UpdateCommissionStatus) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "pending":
		fallthrough
	case "processed":
		fallthrough
	case "paid":
		fallthrough
	case "refunded":
		fallthrough
	case "duplicate":
		fallthrough
	case "fraud":
		fallthrough
	case "canceled":
		*e = UpdateCommissionStatus(v)
		return nil
	default:
		return fmt.Errorf("invalid value for UpdateCommissionStatus: %v", v)
	}
}

type UpdateCommissionPartner struct {
	// The partner's unique ID on Dub.
	ID string `json:"id"`
	// The partner's full legal name.
	Name string `json:"name"`
	// The partner's email address. Should be a unique value across Dub.
	Email *string `json:"email"`
	// The partner's avatar image.
	Image *string `json:"image"`
	// The date when the partner enabled payouts.
	PayoutsEnabledAt *string `json:"payoutsEnabledAt"`
	// The partner's country (required for tax purposes).
	Country *string `json:"country"`
}

func (o *UpdateCommissionPartner) GetID() string {
	if o == nil {
		return ""
	}
	return o.ID
}

func (o *UpdateCommissionPartner) GetName() string {
	if o == nil {
		return ""
	}
	return o.Name
}

func (o *UpdateCommissionPartner) GetEmail() *string {
	if o == nil {
		return nil
	}
	return o.Email
}

func (o *UpdateCommissionPartner) GetImage() *string {
	if o == nil {
		return nil
	}
	return o.Image
}

func (o *UpdateCommissionPartner) GetPayoutsEnabledAt() *string {
	if o == nil {
		return nil
	}
	return o.PayoutsEnabledAt
}

func (o *UpdateCommissionPartner) GetCountry() *string {
	if o == nil {
		return nil
	}
	return o.Country
}

type UpdateCommissionCustomer struct {
	// The unique ID of the customer. You may use either the customer's `id` on Dub (obtained via `/customers` endpoint) or their `externalId` (unique ID within your system, prefixed with `ext_`, e.g. `ext_123`).
	ID string `json:"id"`
	// Unique identifier for the customer in the client's app.
	ExternalID string `json:"externalId"`
	// Name of the customer.
	Name string `json:"name"`
	// Email of the customer.
	Email *string `json:"email,omitempty"`
	// Avatar URL of the customer.
	Avatar *string `json:"avatar,omitempty"`
	// Country of the customer.
	Country *string `json:"country,omitempty"`
	// Total number of sales for the customer.
	Sales *float64 `json:"sales,omitempty"`
	// Total amount of sales for the customer.
	SaleAmount *float64 `json:"saleAmount,omitempty"`
	// The date the customer was created.
	CreatedAt string `json:"createdAt"`
}

func (o *UpdateCommissionCustomer) GetID() string {
	if o == nil {
		return ""
	}
	return o.ID
}

func (o *UpdateCommissionCustomer) GetExternalID() string {
	if o == nil {
		return ""
	}
	return o.ExternalID
}

func (o *UpdateCommissionCustomer) GetName() string {
	if o == nil {
		return ""
	}
	return o.Name
}

func (o *UpdateCommissionCustomer) GetEmail() *string {
	if o == nil {
		return nil
	}
	return o.Email
}

func (o *UpdateCommissionCustomer) GetAvatar() *string {
	if o == nil {
		return nil
	}
	return o.Avatar
}

func (o *UpdateCommissionCustomer) GetCountry() *string {
	if o == nil {
		return nil
	}
	return o.Country
}

func (o *UpdateCommissionCustomer) GetSales() *float64 {
	if o == nil {
		return nil
	}
	return o.Sales
}

func (o *UpdateCommissionCustomer) GetSaleAmount() *float64 {
	if o == nil {
		return nil
	}
	return o.SaleAmount
}

func (o *UpdateCommissionCustomer) GetCreatedAt() string {
	if o == nil {
		return ""
	}
	return o.CreatedAt
}

// UpdateCommissionResponseBody - The updated commission.
type UpdateCommissionResponseBody struct {
	// The commission's unique ID on Dub.
	ID          string                 `json:"id"`
	Type        *UpdateCommissionType  `json:"type,omitempty"`
	Amount      float64                `json:"amount"`
	Earnings    float64                `json:"earnings"`
	Currency    string                 `json:"currency"`
	Status      UpdateCommissionStatus `json:"status"`
	InvoiceID   *string                `json:"invoiceId"`
	Description *string                `json:"description"`
	Quantity    float64                `json:"quantity"`
	// The user who created the manual commission.
	UserID    *string                   `json:"userId,omitempty"`
	CreatedAt string                    `json:"createdAt"`
	UpdatedAt string                    `json:"updatedAt"`
	Partner   UpdateCommissionPartner   `json:"partner"`
	Customer  *UpdateCommissionCustomer `json:"customer,omitempty"`
}

func (o *UpdateCommissionResponseBody) GetID() string {
	if o == nil {
		return ""
	}
	return o.ID
}

func (o *UpdateCommissionResponseBody) GetType() *UpdateCommissionType {
	if o == nil {
		return nil
	}
	return o.Type
}

func (o *UpdateCommissionResponseBody) GetAmount() float64 {
	if o == nil {
		return 0.0
	}
	return o.Amount
}

func (o *UpdateCommissionResponseBody) GetEarnings() float64 {
	if o == nil {
		return 0.0
	}
	return o.Earnings
}

func (o *UpdateCommissionResponseBody) GetCurrency() string {
	if o == nil {
		return ""
	}
	return o.Currency
}

func (o *UpdateCommissionResponseBody) GetStatus() UpdateCommissionStatus {
	if o == nil {
		return UpdateCommissionStatus("")
	}
	return o.Status
}

func (o *UpdateCommissionResponseBody) GetInvoiceID() *string {
	if o == nil {
		return nil
	}
	return o.InvoiceID
}

func (o *UpdateCommissionResponseBody) GetDescription() *string {
	if o == nil {
		return nil
	}
	return o.Description
}

func (o *UpdateCommissionResponseBody) GetQuantity() float64 {
	if o == nil {
		return 0.0
	}
	return o.Quantity
}

func (o *UpdateCommissionResponseBody) GetUserID() *string {
	if o == nil {
		return nil
	}
	return o.UserID
}

func (o *UpdateCommissionResponseBody) GetCreatedAt() string {
	if o == nil {
		return ""
	}
	return o.CreatedAt
}

func (o *UpdateCommissionResponseBody) GetUpdatedAt() string {
	if o == nil {
		return ""
	}
	return o.UpdatedAt
}

func (o *UpdateCommissionResponseBody) GetPartner() UpdateCommissionPartner {
	if o == nil {
		return UpdateCommissionPartner{}
	}
	return o.Partner
}

func (o *UpdateCommissionResponseBody) GetCustomer() *UpdateCommissionCustomer {
	if o == nil {
		return nil
	}
	return o.Customer
}
